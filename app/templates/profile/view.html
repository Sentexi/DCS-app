{% extends "base.html" %}
{% block title %}Profile{% endblock %}
{% block content %}
<h2>Profile</h2>
<form method="post" class="mb-3">
  <div class="mb-3">
    <label class="form-label">First Name</label>
    <input name="first_name" class="form-control" value="{{ current_user.first_name }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Last Name</label>
    <input name="last_name" class="form-control" value="{{ current_user.last_name }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Email</label>
    <input name="email" class="form-control" value="{{ current_user.email }}">
  </div>
  <button type="submit" class="btn btn-primary">Update</button>
</form>
<hr>
<p><strong>Debate Skill:</strong> {{ current_user.debate_skill or '—' }}</p>
<p><strong>Judge Skill:</strong> {{ current_user.judge_skill or '—' }}</p>
<p><strong>Debates Participated:</strong> {{ current_user.debate_count or 0 }}</p>
<p><strong>Elo Rating:</strong> {{ current_user.elo_rating }}</p>
{% set recent = current_user.recent_opd_results() %}
{% if recent %}
<h5 class="mt-4">Recent Results</h5>
<ul>
  {% for r in recent %}
    <li>Debate {{ r.debate_id }}: {{ '%.1f'|format(r.points) }} pts</li>
  {% endfor %}
</ul>
{% endif %}
{% endblock %}
